(function(t){function e(e){for(var n,i,s=e[0],l=e[1],u=e[2],p=0,m=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&m.push(o[i][0]),o[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(m.length)m.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,s=1;s<r.length;s++){var l=r[s];0!==o[l]&&(n=!1)}n&&(a.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},o={app:0},a=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var c=l;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home",attrs:{id:"app"}},[r("form",{staticClass:"default-form",on:{submit:function(t){return t.preventDefault()}}},[r("main-info",{class:{active:1==t.$root.activeForm}}),r("Address",{class:{active:2==t.$root.activeForm}}),r("passport",{class:{active:3==t.$root.activeForm}})],1)])},a=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"global-info"},[r("label",{attrs:{for:"fio-group"}},[t._v("ФИО:")]),r("div",{staticClass:"form-group group",attrs:{id:"fio-group"}},[r("input",{attrs:{type:"text",id:"l-name",name:"lname",placeholder:"Фамилия",required:""},domProps:{value:t.form.lname},on:{input:function(e){return t.showErrorSpan("lname",e.target)}}}),r("input",{attrs:{type:"text",id:"f-name",name:"fname",placeholder:"Имя",required:""},domProps:{value:t.form.fname},on:{input:function(e){return t.showErrorSpan("fname",e.target)}}}),r("input",{attrs:{type:"text",id:"patronymic",name:"patronymic",placeholder:"Отчество"},domProps:{value:t.form.patronymic},on:{input:function(e){return t.showErrorSpan("patronymic",e.target)}}})]),r("label",[t._v("Дата рождения:")]),r("div",{staticClass:"form-group group",attrs:{id:"b-date-group"}},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],attrs:{id:"date",name:"date",required:""},on:{input:function(e){return t.showErrorSpan("bDate",e.target)},change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.date=e.target.multiple?r:r[0]},function(e){return t.initBDate("bDate",e)}]}},[r("option",{attrs:{value:"null",disabled:"",selected:""}},[t._v("Дата")]),t._l(Array.from({length:t.lastDay},(function(t,e){return e+1})),(function(e){return r("option",{key:e},[t._v(t._s(e))])}))],2),r("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],attrs:{id:"month",name:"month"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?r:r[0]},function(e){return t.getDatesArray()}]}},[r("option",{staticStyle:{display:"none"},attrs:{value:"null",disabled:"",selected:""}},[t._v("Месяц")]),t._l(Array.from({length:12},(function(t,e){return e+1})),(function(e){return r("option",{key:e},[t._v(t._s(e))])}))],2),r("select",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],attrs:{id:"year",name:"year"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.year=e.target.multiple?r:r[0]},function(e){return t.getDatesArray()}]}},[r("option",{staticStyle:{display:"none"},attrs:{value:"null",disabled:"",selected:""}},[t._v("Год")]),t._l(Array.from({length:121},(function(t,e){return e+1901})).reverse(),(function(e){return r("option",{key:e},[t._v(t._s(e))])}))],2)]),r("label",{attrs:{for:"phone"}},[t._v("Номер телефона:")]),r("input",{attrs:{type:"phone",id:"phone",name:"phone",placeholder:"7 (___) ___-__-__",required:""},on:{keyup:t.formatPhone,input:function(e){return t.showErrorSpan("phone",e.target)}}}),r("label",{attrs:{for:"sex"}},[t._v("Пол:")]),r("div",{staticClass:"rb-group group"},[r("input",{staticClass:"nostyle-input",attrs:{type:"radio",id:"male",name:"sex",value:"male"},on:{input:function(e){return t.showErrorSpan("sex",e.target)}}}),r("label",{attrs:{for:"male"}},[t._v("Мужской")]),r("input",{staticClass:"nostyle-input",attrs:{type:"radio",id:"female",name:"sex",value:"female"},on:{input:function(e){return t.showErrorSpan("sex",e.target)}}}),r("label",{attrs:{for:"female"}},[t._v("Женский")])]),r("br"),r("div",{staticClass:"two-clm"},[r("div",{staticClass:"clm group"},[r("label",{attrs:{for:"cl-group"}},[t._v("Группа клиентов:")]),r("br"),r("select",{attrs:{id:"cl-group",name:"cl-group",multiple:"",required:""},on:{change:function(e){return t.showErrorSpan("clGroup",e.target)}}},t._l(t.clTypesList,(function(e){return r("option",{key:e},[t._v(t._s(e))])})),0)]),r("div",{staticClass:"clm group"},[r("label",{attrs:{for:"doctor"}},[t._v("Лечащий врач:")]),r("br"),r("select",{directives:[{name:"model",rawName:"v-model",value:t.form.doctor,expression:"form.doctor"}],attrs:{id:"doctor",name:"doctor"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"doctor",e.target.multiple?r:r[0])},function(e){return t.showErrorSpan("doctor",e.target)}]}},[r("option",{attrs:{disabled:"",value:"null"}},[t._v("Выберите один из вариантов")]),t._l(t.doctorsList,(function(e){return r("option",{key:e},[t._v(t._s(e)+" ")])}))],2)])]),r("label",{attrs:{for:"sms"}},[t._v("Не отправлять СМС:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.sms,expression:"form.sms"}],staticClass:"nostyle-input",attrs:{type:"checkbox",id:"sms",name:"sms"},domProps:{checked:Array.isArray(t.form.sms)?t._i(t.form.sms,null)>-1:t.form.sms},on:{change:[function(e){var r=t.form.sms,n=e.target,o=!!n.checked;if(Array.isArray(r)){var a=null,i=t._i(r,a);n.checked?i<0&&t.$set(t.form,"sms",r.concat([a])):i>-1&&t.$set(t.form,"sms",r.slice(0,i).concat(r.slice(i+1)))}else t.$set(t.form,"sms",o)},function(e){return t.showErrorSpan("sms",e.target)}]}}),r("br"),r("button-group")],1)},s=[],l=(r("caad"),r("9341")),u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"button-group"},[t.$root.activeForm>1?r("button",{staticClass:"back",on:{click:function(e){return t.move("-")}}},[t._v(" Назад ")]):t._e(),t.$root.activeForm<3?r("button",{staticClass:"next",attrs:{type:"button"},on:{click:function(e){return t.move("+")}}},[t._v(" Далее ")]):t._e(),3==t.$root.activeForm?r("button",{attrs:{type:"submit"},on:{click:function(e){return t.submit()}}},[t._v(" Отправить форму ")]):t._e()])},c=[],p=(r("159b"),{data:function(){return{}},methods:{showErrorSpan:function(t,e){console.log(this.form,t,e);var r=document.createElement("span");r.classList.add("alert"),null!=t?(r.innerText=this.alerts[t]?this.alerts[t]:"Введите в правильном формате",console.log(e.value),this.$v.form[t].$touch(),console.log(this.$v.form[t].$error)):r.innerText="Введите в правильном формате","bDate"!=t&&"date"!=t&&"sms"!=t&&"phone"!=t&&null!=t&&(this.form[t]=e.value);var n=e.parentElement.classList.contains("group")?e.parentElement.classList.contains("clm")?e.parentElement.parentElement:e.parentElement:e,o=n;while(n.nextSibling){if("SPAN"!=n.nextSibling.tagName)break;void 0!=this.alerts&&n.nextSibling.innerText==this.alerts[t]&&n.nextSibling.remove(),"Введите в правильном формате"==n.nextSibling.innerText&&n.nextSibling.remove(),n=n.nextSibling}(null===t||this.$v.form[t].$error)&&o.parentElement.insertBefore(r,o.nextSibling)},checkRequired:function(){var t=this,e=document.getElementsByClassName("default-form")[0].querySelectorAll(".active [required]");e.forEach((function(e){null!=e.value&&void 0!=e.value&&e.value&&""!=e.value&&"null"!=e.value||(console.log(e.value),t.showErrorSpan(null,e))}))}}}),m={mixins:[p],methods:{move:function(t){"+"===t?(this.$parent.$v.$touch(),this.$parent.$v.$invalid?(console.log(this.$parent.$v),this.checkRequired()):(this.commitFormChanges(),this.$root.activeForm+=1)):(this.undoChanges(),this.$root.activeForm-=1)},commitFormChanges:function(){1===this.$root.activeForm?this.$root.form=this.$parent.form:2===this.$root.activeForm?this.$root.form["address"]=this.$parent.form:3===this.$root.activeForm&&(this.$root.form["passport"]=this.$parent.form),console.log(this.$root.form)},undoChanges:function(){2===this.$root.activeForm?this.$root.form["address"]=null:3===this.$root.activeForm&&(this.$root.form["passport"]=null),console.log(this.$root.form)},submit:function(){this.$parent.$v.$touch(),this.$parent.$v.$invalid?this.checkRequired():(this.commitFormChanges(),alert("Можете посмотреть параметры вашей форма в консоли разработчика"))}}},d=m,f=(r("b761"),r("2877")),v=Object(f["a"])(d,u,c,!1,null,null,null),h=v.exports,g=(r("ac1f"),r("5319"),{data:function(){return{date:null,month:null,year:null,lastDay:null}},methods:{getDatesArray:function(){var t=null==this.year?(new Date).getYear()+1900:this.year,e=null==this.month?(new Date).getMonth()+1:this.month,r=new Date(t,parseInt(e)-1,1),n=new Date(t,parseInt(e),1);this.lastDay=Math.round((n-r)/1e3/3600/24)},initBDate:function(t,e){console.log(1),this.year=null==this.year?(new Date).getYear()+1900:this.year,this.month=null==this.month?(new Date).getMonth()+1:this.month,this.form[t]=this.date+"."+this.month+"."+this.year,console.log(this.form[t]),this.showErrorSpan(t,e.target)}}}),y={data:function(){return{formattedPhone:""}},methods:{formatPhone:function(t){if(t.key>=0&&t.key<=9||"Backspace"===t.key){var e=t.target.value;e="7"!=e[0]?"7"+e:e,e=e.replace(/[^\d]/g,""),e=e.substr(0,11),this.form.phone=e;var r=e.length<2?"$1":e.length<4?"$1 ($4)":e.length<7?"$1 ($2) $4":e.length<9?"$1 ($2) $3-$4":"$1 ($2) $3-$4-$5";e=e.replace(/(\d{1})(\d{3})?(\d{3})?(\d{1,2})?(\d{2})?/,r),"Backspace"!=t.key&&(t.target.value=e),this.formattedPhone=e,console.log(e)}else t.target.value!=this.formattedPhone&&"Backspace"!=t.key&&(console.log(t.key),t.target.value=this.formattedPhone)}}},_=r("3835"),b=(r("1276"),function(t){var e=t.split("."),r=Object(_["a"])(e,3),n=r[0],o=r[1],a=r[2],i=new Date(a,o-1,n);return i.getMonth()+1==o&&i.getDate()==n&&i.getFullYear()==a}),$=["Иванов","Захаров","Чернышева"],x=["VIP","Проблемные","ОМС"],w={components:{ButtonGroup:h},mixins:[p,g,y],data:function(){return{form:{lname:"",fname:"",patronymic:"",bDate:null,phone:null,sex:null,sms:!0,clGroup:[],doctor:null},alerts:{lname:"Фамилия должна содержать только русские буквы",fname:"Имя должно содержать только русские буквы",patronymic:"Отчество должно содержать только русские буквы",bDate:null,phone:"Телефон должен быть введен в формате 7 (***) ***-**-**",sex:null,clGroup:"Выберите из списка",index:"Индекс должен состоять из 6 цифр"},doctorsList:$,clTypesList:x}},validations:{form:{fname:{required:l["required"],alpha:function(t){return/^[а-яё]*$/i.test(t)}},lname:{required:l["required"],alpha:function(t){return/^[а-яё]*$/i.test(t)}},patronymic:{alpha:function(t){return/^[а-яё]*$/i.test(t)}},bDate:{required:l["required"],validDate:function(t){return b(t)}},phone:{required:l["required"],alpha:function(t){return/^7[\d]{10}$/i.test(t)}},sex:{alpha:function(t){return["male","female",null].includes(t)}},sms:{alpha:function(t){return[!0,!1].includes(t)}},clGroup:{$each:{alpha:function(t){return x.includes(t)}}},doctor:{alpha:function(t){return null==t||$.includes(t)}}}},methods:{},created:function(){console.log(this.$root.activeForm),this.getDatesArray()}},S=w,E=Object(f["a"])(S,i,s,!1,null,null,null),k=E.exports,D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"address-info",class:{active:2==t.$root.activeForm}},[r("label",{attrs:{for:"index"}},[t._v("Индекс:")]),r("input",{attrs:{type:"text",id:"index",name:"index",placeholder:"Состоит из 6 цифр"},on:{input:function(e){return t.showErrorSpan("index",e.target)}}}),r("label",{attrs:{for:"city"}},[t._v("Город:")]),r("div",{staticClass:"form-group group"},[r("input",{attrs:{type:"text",id:"country",name:"country",placeholder:"Страна"},on:{input:function(e){return t.showErrorSpan("country",e.target)}}}),r("input",{attrs:{type:"text",id:"region",name:"region",placeholder:"Область"},on:{input:function(e){return t.showErrorSpan("region",e.target)}}}),r("input",{attrs:{type:"text",id:"city",name:"city",placeholder:"Город",required:""},on:{input:function(e){return t.showErrorSpan("city",e.target)}}})]),r("label",{attrs:{for:"city"}},[t._v("Адрес:")]),r("div",{staticClass:"form-group group"},[r("input",{attrs:{type:"text",id:"street",name:"street",placeholder:"Улица"},on:{input:function(e){return t.showErrorSpan("street",e.target)}}}),r("input",{attrs:{type:"text",id:"house",name:"house",placeholder:"Дом"},on:{input:function(e){return t.showErrorSpan("house",e.target)}}})]),r("button-group")],1)},A=[],C={components:{ButtonGroup:h},mixins:[p],data:function(){return{form:{index:"",country:"",region:"",city:"",street:"",house:""},alerts:{}}},validations:{form:{index:{alpha:function(t){return/^([0-9]{6})?$/i.test(t)}},country:{alpha:function(t){return/^[а-яё\s]*$/i.test(t)}},region:{alpha:function(t){return/^[а-яё\s]*$/i.test(t)}},city:{required:l["required"],alpha:function(t){return/^[а-яё]*$/i.test(t)}},street:{alpha:function(t){return/^[а-яё\s]*$/i.test(t)}},house:{alpha:function(t){return/^[0-9]{0,4}$/i.test(t)}}}}},q=C,F=Object(f["a"])(q,D,A,!1,null,null,null),P=F.exports,O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"passport-info",class:{active:3==t.$root.activeForm}},[r("label",{attrs:{for:"dtype"}},[t._v("Тип документа:")]),r("br"),r("select",{directives:[{name:"model",rawName:"v-model",value:t.form.type,expression:"form.type"}],attrs:{id:"dtype",name:"dtype",required:""},on:{input:function(e){return t.showErrorSpan("type",e.target)},change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"type",e.target.multiple?r:r[0])}}},[r("option",{attrs:{disabled:"",value:"null"}},[t._v("Выберите один из вариантов")]),t._l(t.docTypesList,(function(e){return r("option",{key:e},[t._v(t._s(e))])}))],2),r("div",{staticClass:"two-clm"},[r("div",{staticClass:"clm group"},[r("label",{attrs:{for:"p-series"}},[t._v("Серия:")]),r("input",{attrs:{type:"text",id:"p-series",name:"series",placeholder:"Состоит из 4 цифр"},on:{input:function(e){return t.showErrorSpan("series",e.target)}}})]),r("div",{staticClass:"clm group"},[r("label",{attrs:{for:"p-number"}},[t._v("Номер:")]),r("input",{attrs:{type:"text",id:"p-number",name:"number",placeholder:"Состоит из 6 цифр"},on:{input:function(e){return t.showErrorSpan("number",e.target)}}})])]),r("label",{attrs:{for:"p-issued"}},[t._v("Кем выдан:")]),r("input",{attrs:{type:"text",id:"p-issued",name:"issued"},on:{input:function(e){return t.showErrorSpan("issued",e.target)}}}),r("label",{attrs:{for:"p-date"}},[t._v("Дата выдачи:")]),r("div",{staticClass:"form-group group",attrs:{id:"p-date-group"}},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],attrs:{id:"p-date",name:"p-date",required:""},on:{input:function(e){return t.showErrorSpan("date",e.target)},change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.date=e.target.multiple?r:r[0]},function(e){return t.initBDate("date",e)}]}},[r("option",{attrs:{value:"null",disabled:"",selected:""}},[t._v("Дата")]),t._l(Array.from({length:t.lastDay},(function(t,e){return e+1})),(function(e){return r("option",{key:e},[t._v(t._s(e))])}))],2),r("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],attrs:{id:"month",name:"month"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?r:r[0]},function(e){return t.getDatesArray()}]}},[r("option",{attrs:{value:"null",disabled:"",selected:""}},[t._v("Месяц")]),t._l(Array.from({length:12},(function(t,e){return e+1})),(function(e){return r("option",{key:e},[t._v(t._s(e))])}))],2),r("select",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],attrs:{id:"year",name:"year"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.year=e.target.multiple?r:r[0]},function(e){return t.getDatesArray()}]}},[r("option",{attrs:{value:"null",disabled:"",selected:""}},[t._v("Год")]),t._l(Array.from({length:121},(function(t,e){return e+1901})).reverse(),(function(e){return r("option",{key:e},[t._v(t._s(e))])}))],2)]),r("button-group")],1)},j=[],N=["Паспорт","Свидетельство о рождении","Вод. удостоверение"],B={components:{ButtonGroup:h},mixins:[p,g,y],data:function(){return{form:{type:"Паспорт",series:"",number:"",issued:"",date:""},alerts:{},docTypesList:N}},validations:{form:{type:{required:l["required"],alpha:function(t){return N.includes(t)}},series:{alpha:function(t){return/^([0-9]{4})?$/i.test(t)}},number:{alpha:function(t){return/^([0-9]{6})?$/i.test(t)}},issued:{alpha:function(t){return/^[а-яё0-9\s]*$/i.test(t)}},date:{required:l["required"],validDate:function(t){return b(t)}}}},methods:{},created:function(){this.getDatesArray()}},T=B,M=Object(f["a"])(T,O,j,!1,null,null,null),L=M.exports,G={name:"App",components:{MainInfo:k,Passport:L,Address:P},data:function(){return{passportDate:null,form:{MainInfo:{},address:{},passport:{}},alerts:{index:"Индекс должен состоять из 6 цифр"}}}},I=G,R=(r("5c0b"),Object(f["a"])(I,o,a,!1,null,null,null)),Y=R.exports,J=r("8454"),V=r.n(J);n["a"].use(V.a),n["a"].config.productionTip=!1,new n["a"]({data:function(){return{activeForm:1,form:{}}},render:function(t){return t(Y)}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";r("9c0c")},7346:function(t,e,r){},"9c0c":function(t,e,r){},b761:function(t,e,r){"use strict";r("7346")}});
//# sourceMappingURL=app.80a83d58.js.map